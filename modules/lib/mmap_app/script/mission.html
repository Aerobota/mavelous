<html>
<head>
  <link rel="stylesheet" href="../../../../../closure-library/closure/goog/css/common.css">
  <link rel="stylesheet" href="../../../../../closure-library/closure/goog/css/checkbox.css">
  <link rel="stylesheet" href="../../../../../closure-library/closure/goog/css/menu.css">
  <link rel="stylesheet" href="../../../../../closure-library/closure/goog/css/menuitem.css">
  <link rel="stylesheet" href="../../../../../closure-library/closure/goog/css/flatmenubutton.css">
  <style>
.example-checklist-item-checked {
  text-decoration: line-through;
  color: #777;
}
  </style>
</head>
<body>
<div id="mission"></div>

Number of event listeners: <span id="listener-count"></span><br>
Number of checked items: <span id="num-checked"></span><br>

<script src="../../../../../closure-library/closure/goog/base.js"></script>
<script src="mission-deps.js"></script>
<script>
  goog.require('mavelous');
  goog.require('mavelous.ui');
</script>

<script>
var mission = new mavelous.Mission([
  new mavelous.Waypoint('1', mavelous.WaypointType.TAKEOFF, {z: 100}),
  new mavelous.Waypoint('2', mavelous.WaypointType.WAYPOINT, {x: 10, y: 4, z: 10, p1: 5.0, p2: 5.0, p4: 0.0}),
  new mavelous.Waypoint('3', mavelous.WaypointType.CONDITION_YAW, {p1: 180, p2: 5.0, p3: 1, p4: 0}),
  new mavelous.Waypoint('4', mavelous.WaypointType.LAND)
  ]);

// Rendering example.
var container = new mavelous.ui.Mission(mission);
container.render(goog.dom.getElement('mission'));  

var updateListenerCount = function() {
  goog.dom.getElement('listener-count').innerHTML =
      goog.events.getTotalListenerCount();
};
var updateNumChecked = function(e) {
  goog.dom.getElement('num-checked').innerHTML =
      e.target.getModel().getNumChecked();
};

goog.events.listen(container,
    mavelous.ui.Mission.EventType.CHECKED_COUNT_CHANGED,
    updateNumChecked);

updateListenerCount();
</script>
<body>

</body>
