<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css" />
<!-- JQUERY -->
<script type="text/javascript" src="jquery-1.7.2.js"></script>
<script type="text/javascript" src="jquery.color.js"></script>

<!-- BACKBONE -->
<script type="text/javascript" src="underscore-1.3.3.js"></script>
<script type="text/javascript" src="backbone-0.9.2.js"></script>

<!-- APP MODULES -->
<script type="text/javascript" src="mavlinkapi.js"></script>
<script type="text/javascript" src="vfrhud.js"></script>
<script type="text/javascript" src="gps.js"></script>
<script type="text/javascript" src="heartbeat.js"></script>
<script type="text/javascript" src="attitude.js"></script>
<script type="text/javascript" src="metawaypoint.js"></script>

<!-- APP INSTANCE-->
<script type="text/javascript" src="app.js"></script>

<!-- APP VIEW TEMPLATES -->
<script type="text/template" id="vfrhudtexttemplate">
  <div class="telemetry" id="vfrhudtextview">
    ALT <span class="t_value"><%= alt.toPrecision(4) %> m</span> |
    HDG <span class="t_value"><%= heading.toPrecision(4) %></span><br>
    GROUNDSPEED <span class="t_value"><%= groundspeed.toPrecision(3) %> m/s</span> |
    AIRSPEED <span class="t_value"><%= airspeed.toPrecision(3) %> m/s</span><br>
  </div>
</script>

<script type="text/template" id="gpstexttemplate">
  <div class="telemetry" id="gpstextview">
    GPS <span class="t_value">
      <%
        if (fix_type >= 3) {
          print('<span class="ok">3D</span>');
        } else if (fix_type == 2) {
          print('<span class="slow">2D</span>');
        } else {
          print('<span class="error">' + fix_type + '</span>');
        }
      %></span> |
    (<span class="t_value"><%= (lat / 1.0e7).toPrecision(11) %></span>, 
    <span class="t_value"><%= (lon / 1.0e7).toPrecision(11) %></span>)
  </div>
</script>

<script type="text/template" id="modetexttemplate">
  <div class="telemetry" id="modetextview">
    MODE <span class="t_value"><%= modestring %></span>
    <span class="t_sta_txt" id="t_sta_txt"></span>
  </div>
</script>

<script type="text/template" id="linkstatustexttemplate"> 
  <div class="telemetry" id="linkstatustextview">
    LINK <span class="t_value"><%= status %></span> |
  </div>
</script>

<!-- HTML BODY-->
<title>backbone mavelous</title>
</head>
<body>
  <div id="header">
    <div id="adi"></div>
    <div class="telemetry" id="vfrhudtextview"></div>
    <div class="telemetry" id="gpstextview"></div>
    <div class="telemetry" id="linkstatustextview"></div>
    <div class="telemetry" id="modetextview"></div>
    <span class="t_sta_txt" id="t_sta_txt"></span>
  </div> <!-- header -->
    <div id="controls">
      <div class="altslider">
        Guide Altitude:
        <input id="altinput" type="range" value="20" min="0" max="200">
        <input id="altinput_submit" type="submit" value="Update">
        <span class="t_value" id="v_altwaypt"></span> m
      </div> <!-- altslider -->
    </div> <!-- controls -->
  <div id="map"></div>
  <div id="drone"></div>
</body>
</html>
